query mainPage {
  students: users(
    first: 4
    orderBy: updatedAt_DESC
    where: { ProjectsCreated_some: { type: Education } }
  ) {
    ...UserNoNesting
  }

  codeChallengeCompletions(
    orderBy: createdAt_DESC
    first: 3
    where: { Task: { status: Completed } }
  ) {
    ...mainPageCodeChallengeCompletion
  }

  comments: resources(
    first: 5
    orderBy: createdAt_DESC
    where: { type: Comment }
  ) {
    ...resource_
  }
}

fragment mainPageCodeChallengeCompletion on CodeChallengeCompletion {
  id
  CreatedBy {
    ...UserNoNesting
  }
  Task {
    id
    status
  }
  CodeChallenge {
    id
    name
    localeTitle
    description
    instructions
  }
}
